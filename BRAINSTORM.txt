Hey! I need your help brainstorming ideas for my app called AIVISION. It's a Eurovision song voting web app ‚Äî like a social experience where friends vote on Eurovision songs together. Let me walk you through everything we've built so far in detail.

====================================================================
TECH STACK
====================================================================

- React 19 (plain JSX, no TypeScript) + Vite 8 beta + React Router 7
- Supabase for everything backend ‚Äî PostgreSQL database, Auth (email/password + Google OAuth), file Storage (a public "media" bucket for videos, audio, cover art), and Realtime subscriptions
- Tailwind CSS v4 with CSS custom properties for theming
- Lucide React for all icons
- PWA via vite-plugin-pwa ‚Äî installable on phones, has offline support
- Deployed on Vercel (also has Netlify config ready)
- ~14,500 lines of code total across ~22 files

====================================================================
THE USER FLOW ‚Äî SCREEN BY SCREEN
====================================================================

--- LOGIN / SIGNUP SCREEN ---

Full-screen gradient background (purple ‚Üí blue ‚Üí pink) with floating animated blobs and decorative star characters (‚ú¶). Glass morphism card in the center.

Two modes toggled by a link at the bottom:
- Sign In: email + password fields, a "Forgot password?" button (not wired up yet), gradient Login button
- Sign Up: adds a "Your name" field above email/password, gradient Register button

Password field has a show/hide toggle (eye icon). Inputs have icon prefixes (User icon for name/email, Lock for password). Error messages show in a red translucent banner.

After successful signup, a profile row is created in the `profiles` table with the user's name, email, and ID. Google OAuth is also supported ‚Äî redirects to /auth/callback which handles the token exchange and profile creation.

The app name and logo (if set by admin) display at the top of the card. There's also a non-functional X close button in the top right (leftover UI element).

--- MAIN APP HEADER ---

After login, the user sees a sticky header bar with:
- Left side: Avatar circle (clickable ‚Üí goes to profile tab) + user name + "ADMIN" badge if they're an admin + "Eurovision Voter" subtitle
- Right side: Light/Dark mode toggle button, Admin button (only for admins, toggles between app and admin panel), Sign Out button (red tinted)

All buttons have icon + text label, glass-style backgrounds that change between light and dark modes.

--- HERO SECTION ---

Below the header:
- App logo (if configured) + app name ("AIVISION" by default) + subtitle ("Vote for your favorite songs")
- A progress bar showing "X / Y songs voted" with a percentage fill and a checkmark when complete
- Voting deadline countdown (if admin has set one): "Voting closes in X days, X hours"
- Achievement badges row ‚Äî earned badges like "First Vote", "All Voted", etc. with icons and colors

--- TAB NAVIGATION ---

Three tabs in a horizontal bar:
1. Songs (music icon) ‚Äî the main grid
2. My Votes (heart icon) ‚Äî with a badge showing vote count
3. Leaderboard (bar chart icon)

There's also a hidden 4th tab "Profile" that's accessed by clicking your avatar in the header (not shown in the tab bar).

--- SONGS TAB ---

Search bar with icon + clear button, and a custom genre dropdown filter (glass morphism style, not a native <select>). The dropdown shows "All Genres" by default, lists all genres found across songs.

Below that: a responsive CSS grid of song cards. While loading, 8 skeleton placeholder cards show (pulsing animation). If search returns nothing, an empty state with search icon says "No songs found."

Each SONG CARD is a clickable button containing:
- A static video thumbnail as background (the first frame of the song's video, positioned via admin-configurable posX/posY percentages)
- On hover (desktop): the video plays muted and looped as a preview
- On mobile: first tap starts a 4-second video preview, second tap opens the song detail
- Country flag emoji (large, top-left area)
- Song title, artist name, country name
- Footer: either "X pts" with a star icon (if voted) or "Tap to vote" with a music icon

Songs come from two sources merged together:
1. 12 built-in songs hardcoded in songs.js (Sweden, Italy, Ukraine, France, Norway, Spain, Greece, Finland, Switzerland, Ireland, Albania, Netherlands)
2. Custom songs from Supabase `custom_songs` table (admin can add/edit/delete these)
Admin can also hide songs, reorder them via drag-and-drop, and mark them as ready/not-ready.

--- MY VOTES TAB ---

If no votes: empty state with heart icon and "No votes yet ‚Äî Go to the Songs tab and start voting!"

If votes exist: summary line "X songs voted ‚Äî Y total points", then a sorted list (highest points first). Each row shows:
- Flag emoji
- Song title + artist
- Point value ("X pts")
Clicking a row opens that song's detail modal.

--- LEADERBOARD TAB ---

Three sub-views toggled by buttons:

1. "Song Ratings" ‚Äî ranked by average score across 3 categories (Lyrics, Melody, Memorable). Each row shows: rank icon (trophy/medal/award for top 3, number for rest) + flag + title/artist + overall average score + individual category averages (pencil emoji for lyrics, music note for melody, sparkle for memorable) + number of raters.

2. "Vote Points" ‚Äî ranked by total Eurovision points. Shows total points, voter count, and the user's own score if they voted. The current leader gets a crown emoji (üëë). Ties are labeled.

3. "Compare" ‚Äî shows only songs you've voted on, sorted by biggest difference between your vote and the community average. Each row shows "You: X" vs "Avg: Y" and a badge: "+Z higher" (green) / "Z lower" (red) / "‚âà Agree" (neutral).

--- PROFILE TAB (accessed via avatar click) ---

Profile card with:
- Avatar (clickable to upload/crop ‚Äî opens AvatarCropModal)
- Name with an edit pencil icon (has a 1-week cooldown between name changes, enforced client-side via localStorage)
- Email display
- Stats row: Votes count, Total Points, Friends count

Friend Requests section (if any): shows pending requests with Accept (checkmark) / Decline (X) buttons

Friends List: shows each friend's avatar, name, their vote count and points. Remove button (X) on each.

Find Friends: search bar that filters all registered users by name. Shows "Friends" status, "Pending" status, or "Add" button for each result.

Confetti animation fires when certain actions complete on this tab.

--- SONG DETAIL MODAL ---

Opens as a full-screen overlay modal. Features:

VISUAL: Background video plays muted/looped behind a semi-transparent overlay (lazy-loaded 600ms after modal opens to keep the open animation fast, skipped on slow connections/Save-Data). Close button (X) top right. On mobile, there's a swipe-down-to-dismiss gesture (drag handle at top).

When audio is playing, the modal border glows with colors extracted from the country's flag emoji (using a custom useFlagColors hook that renders the emoji to a canvas and samples dominant colors).

HEADER: Large flag emoji + song title + artist name ‚Äî country + genre tags

AUDIO PLAYER: Play/Pause button, Restart button, progress bar (draggable on both mouse and touch, with smart horizontal-vs-vertical detection so it doesn't hijack scrolling), time display (current / total). The progress bar supports both mouse drag and touch drag.

ACTION BAR: "Karaoke Mode" button (if song has audio + lyrics) + "Country Info" toggle

COUNTRY INFO CARD (expandable): Shows country flag, capital, Eurovision wins, first entry year, population, a fun fact, and famous Eurovision acts as chips.

LYRICS SECTION: Scrollable lyrics display. Section headers (like [Verse 1], [Chorus]) styled differently. If timing data exists, the current line highlights as the audio plays, past lines dim, and clicking a line seeks the audio to that timestamp. Auto-scrolls to keep the active line centered.

VOTING SECTION: "Give your points" heading. A custom slider mapped to Eurovision points [1, 2, 3, 4, 5, 6, 7, 8, 10, 12]. Shows the selected value large with a label ("Meh" for 1-2, "Okay" for 3-4, "Good" for 5-6, "Great" for 7-8, "Amazing" for 10, "DOUZE POINTS!" for 12). Color shifts from purple ‚Üí pink ‚Üí gold as value increases. "Cast Vote" button (or "Update Vote" if already voted). "Remove Vote" link if voted. Keyboard shortcuts: number keys 1-0 select points, Enter casts vote, Space toggles audio, Escape closes.

Vote confirmation modal: shows song + flag + selected points + label, Cancel / Confirm buttons. Confetti animation on confirm.

RATING SECTION: "Rate this song" with three sliders (1-10 each): Lyrics (pencil emoji), Melody (music note), Memorable (sparkle). "Save Ratings" button. These are separate from the Eurovision point vote.

REACTIONS: Four emoji buttons (‚ù§Ô∏è üî• üëè üéµ). Each shows its count. Toggle on/off per user. Max 4 reactions per user per song. Optimistic updates.

COMMENTS: Chronological list of comments, each with avatar + name + date + text. Users can delete their own comments (trash icon). Input field at bottom with Send button. Enter key submits. Optimistic updates. Real-time subscription updates reactions and comments live.

--- KARAOKE MODE ---

Fullscreen overlay with the song's audio playing. Lyrics displayed large, centered. If timing data exists, lines highlight in sync. Play/Pause, Restart, and Fullscreen toggle buttons. Time display. Clean dark background for focus.

--- ADMIN PANEL ---

Only accessible to admins (email whitelist in adminConfig.js). Accessed via the Admin button in the header. This is the biggest file (~2,450 lines). Sections accessible via sidebar tabs:

1. SONGS MANAGEMENT: List of all songs (built-in + custom), searchable and filterable by "ready" status (has artist + title + lyrics + audio). Each song row is expandable to edit all fields. Features: add new custom song, delete songs, drag-to-reorder, hide/show songs, upload audio to Supabase Storage, edit lyrics, launch lyrics timing editor, preview songs via SongCard + SongDetail. Auto-generates flag emoji from country name.

2. VIDEOS: Upload/manage video files per country. Adjust video position (posX/posY percentages) for how videos crop in the cards. Preview videos inline.

3. THEMES: Visual editor for the app theme. Change app name, subtitle, primary/secondary colors, three background colors, upload a logo. 10 preset themes to choose from (Default Purple, Neon Disco, Classic Gold, Nordic Minimal, Retro Synthwave, Pastel Pop, Dark Elegance, Midnight Ocean, Fire & Ice, Tropical Sunset). Live preview. Saves to Supabase `app_settings` table.

4. USERS: View all registered users. Admin tools: suspend/unsuspend users, view activity log, moderate comments (delete inappropriate ones, see all comments across all songs).

5. VOTING DEADLINE: Set a deadline for when voting closes. Shows countdown in the main app.

====================================================================
THEMING SYSTEM
====================================================================

CSS custom properties controlled from React context:
- --color-primary (default #8b5cf6 purple)
- --color-secondary (default #ec4899 pink)
- --bg-1, --bg-2, --bg-3 (three background gradient stops, defaults are deep purples/navy)

Dark/light mode toggle: body class "light-mode" flips all glass surfaces from dark translucent to light translucent. Stored in localStorage.

The whole theme (colors, app name, subtitle, logo URL) is stored in Supabase `app_settings` table under key "theme" as JSON. Loaded on app start.

Glass morphism is used extensively: backdrop-filter: blur() on cards, modals, buttons. Custom CSS animations: twinkle (star sparkle), float (gentle bobbing), shimmer (loading effect), pulse-glow (breathing glow).

====================================================================
DATABASE SCHEMA (Supabase PostgreSQL)
====================================================================

profiles: id (UUID, from auth), name, email, avatar_url, created_at
votes: id, user_id, song_id, score (1-12), created_at
ratings: id, user_id, song_id, lyrics_rating, melody_rating, memorable_rating
custom_songs: id, country, flag, artist, title, genre, lyrics, audio_url, cover_url, lyrics_timing (JSONB), sort_order, hidden, created_at
country_videos: id, country_id (matches song id), url, posX, posY
song_reactions: id, user_id, song_id, emoji, created_at
song_comments: id, user_id, song_id, text, created_at
app_settings: key (unique), value (text/JSON)
friends: id, requester_id, receiver_id, status ('pending'/'accepted'), created_at

RLS (Row Level Security) enabled on all tables. Public read access, users can only modify their own data.
Realtime subscriptions active on: votes, friends, ratings, song_reactions, song_comments.

====================================================================
PWA FEATURES
====================================================================

- Service worker auto-generated by vite-plugin-pwa
- Install prompt banner appears after 3-4 seconds (smart detection: iOS shows manual Safari instructions, Android/Chrome shows native install prompt)
- Dismissal remembered for 3 days via localStorage
- Already-installed detection (standalone mode check)

====================================================================
STATE MANAGEMENT
====================================================================

No external state library. Everything uses React hooks:
- useState for local component state
- useCallback/useMemo for performance
- useRef for DOM refs, timers, and preventing re-fetches
- useContext for theme (ThemeContext)
- Supabase Realtime subscriptions for live updates
- localStorage for: cached votes, dark/light mode preference, name change cooldown, PWA install dismissal

====================================================================
KNOWN ISSUES & TECH DEBT
====================================================================

- AdminPanel.jsx is 2,450 lines ‚Äî monster file, should be broken into sub-components
- EurovisionVoting.jsx is 1,030 lines ‚Äî the profile/friends logic should be extracted
- index.css is 6,464 lines ‚Äî all styles in one file
- Auth.jsx uses extensive inline styles + a fake `<style jsx>` block (not actual CSS-in-JS framework, just a style tag)
- The "Forgot Password" button on the login page does nothing
- The X close button on the login page does nothing
- No TypeScript anywhere ‚Äî zero type safety
- No test suite ‚Äî we verify changes only by running `npm run build`
- The `friends` table exists in production Supabase but isn't in the migration SQL file
- 11 npm vulnerabilities (1 moderate, 10 high) from npm audit
- Cover art (cover_url) is uploaded in admin but never shown to users in song cards or detail view

====================================================================
WHAT I WANT TO BRAINSTORM
====================================================================

I'm looking for ideas on:
- What features to add next
- UI/UX improvements
- How to make the social/engagement side stronger
- Any cool Eurovision-specific features
- Technical improvements worth doing
- How to prioritize what to build next
- Anything creative or fun that would make this app stand out

The app is used by a friend group during Eurovision season. It's meant to be fun, social, and visually impressive. Not a commercial product ‚Äî more of a passion project that should feel polished and delightful to use.
